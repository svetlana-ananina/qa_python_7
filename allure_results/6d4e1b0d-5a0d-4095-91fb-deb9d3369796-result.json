{"name": "Проверяем API-запрос \"Принять заказ\": если не передать id заказа, запрос вернёт ошибку", "status": "failed", "statusDetails": {"message": "AssertionError: Неверный код в ответе: ожидался 400, получен \"404\", ответ: \"{\"code\":404,\"message\":\"Not Found.\"}\"", "trace": "self = <test_accept_order.TestAcceptOrder object at 0x000002BE11707F10>, register_new_courier = 240136\ncreate_order_and_get_order_id = 70766\n\n    @allure.title('Проверяем API-запрос \"Принять заказ\": если не передать id заказа, запрос вернёт ошибку')\n    def test_accept_order_missing_order_id_error(self, register_new_courier, create_order_and_get_order_id):\n        # создаем и регистрируем нового курьера и получаем его данные\n        courier_id = register_new_courier\n        # создаем новый заказ, проверяем код ответа и получаем ID заказа\n        # id заказа не передается в запросе\n        order_id = create_order_and_get_order_id\n        # направляем запрос принять заказ без id заказа\n        response = accept_order_by_courier_id(courier_id)\n        # проверяем что получен код ответа 400\n>       check_status_code(response, code.BAD_REQUEST)\n\ntests\\test_accept_order.py:38: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse = <Response [404]>, expected_code = 400\n\n    @allure.step('Проверяем код ответа')\n    def check_status_code(response, expected_code):\n        # проверяем что получен код ответа expected_code\n        received_code = response.status_code\n>       assert received_code == expected_code, f'Неверный код в ответе: ожидался {expected_code}, получен \"{received_code}\", ответ: \"{response.text}\"'\nE       AssertionError: Неверный код в ответе: ожидался 400, получен \"404\", ответ: \"{\"code\":404,\"message\":\"Not Found.\"}\"\n\nhelpers\\helpers_on_check_response.py:12: AssertionError"}, "steps": [{"name": "Отправляем API-запрос принять заказ с разными query-параметрами", "status": "passed", "parameters": [{"name": "param", "value": "'?courierId=240136'"}], "start": 1701712214449, "stop": 1701712214517}, {"name": "Проверяем код ответа", "status": "failed", "statusDetails": {"message": "AssertionError: Неверный код в ответе: ожидался 400, получен \"404\", ответ: \"{\"code\":404,\"message\":\"Not Found.\"}\"\n", "trace": "  File \"C:\\Python_projects\\Python_QA\\qa_python_1\\venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Python_projects\\Python_QA\\qa_python_7\\helpers\\helpers_on_check_response.py\", line 12, in check_status_code\n    assert received_code == expected_code, f'Неверный код в ответе: ожидался {expected_code}, получен \"{received_code}\", ответ: \"{response.text}\"'\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n"}, "parameters": [{"name": "response", "value": "<Response [404]>"}, {"name": "expected_code", "value": "400"}], "start": 1701712214517, "stop": 1701712214517}], "attachments": [{"name": "stdout", "source": "031ef74b-5e70-4b57-9386-1ffe0014ca6a-attachment.txt", "type": "text/plain"}], "start": 1701712214448, "stop": 1701712214520, "uuid": "a152f679-8b81-4a73-b166-3a0bf006e11c", "historyId": "256d3ec4baa924cc428186f32fc0172c", "testCaseId": "256d3ec4baa924cc428186f32fc0172c", "fullName": "tests.test_accept_order.TestAcceptOrder#test_accept_order_missing_order_id_error", "labels": [{"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_accept_order"}, {"name": "subSuite", "value": "TestAcceptOrder"}, {"name": "host", "value": "DESKTOP-O6MNHQN"}, {"name": "thread", "value": "9112-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_accept_order"}]}